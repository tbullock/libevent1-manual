.\" Copyright (c) 2023 Ted Bullock <tbullock@comlore.com>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: January 15 2023 $
.Dt EVENT_SET_LOG_CALLBACK 3
.Os
.Sh NAME
.Nm event_set_log_callback
.Nd Defines a function to be called when libevent generates a log message.
.Sh SYNOPSIS
.Ft void
.Fn event_set_log_callback(void (*cb)(int severity, const char *msg))
.Sh DESCRIPTION
.Pp
The
.Fn event_set_log_callback
sets the callback function to be called when a log message is generated by
libevent.
.Pp
The callback function takes two arguments: the severity of the message and the
message text. The severity argument is an integer value representing the
severity of the message, with the following levels:
.Bl -tag
.It Dv _EVENT_LOG_DEBUG Pq 0 Pc
Messages for debugging purposes.
.It Dv _EVENT_LOG_MSG Pq 1 Pc
Messages for providing information.
.It Dv _EVENT_LOG_WARN Pq 2 Pc
Messages for non-fatal issues.
.It Dv _EVENT_LOG_ERR Pq 3 Pc
Messages for fatal issues; the library will stop the program after sending the
message to the log callbacks by calling
.Xr exit 3 .
.El
.Pp
If the callback function provided is a null pointer, the behavior is the same
as if no callback was provided at all.
.Pp
The message text is a null-terminated string.
.Sh RETURN VALUES
.Pp
This function does not return a value.
.Sh SEE ALSO
.Xr event 3 ,
.Xr event_init 3 ,
.Xr exit 3
.Sh HISTORY
.Pp
The event_set_log_callback function was first implemented in
.Lb libevent
version 1.1 released on May 14, 2005.
.Sh AUTHORS
The
.Lb libevent
was written by
.An -nosplit
.An Niels Provos
and
.An Nick Mathewson
.Pp
This manual was written by
.An Ted Bullock Aq Mt tbullock@comlore.com
